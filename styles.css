/* =================================================================== */
/* Variables globales (Palette Noël par défaut)                        */
/* =================================================================== */
:root{
  /* Couleurs */
  --color-bg:#eef6f3;
  --color-surface:rgba(255,255,255,.92);
  --color-text:#0f172a;
  --color-muted:#475569;

  --noel-green:#2E7D32;
  --noel-green-2:#33691E;
  --noel-red:#B71C1C;
  --noel-red-strong:#C62828; /* bandeau info */
  --noel-gold:#C9A227;

  --color-accent:var(--noel-green);
  --color-accent-2:var(--noel-gold);
  --color-danger:var(--noel-red-strong);

  /* Typo / métriques */
  --font-sans:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.12);
  --space-1:4px; --space-2:8px; --space-3:12px; --space-4:16px; --space-5:24px; --space-6:32px;
  --container:1200px;

  --badge-bg:#ef5350; --badge-text:#fff;

  /* Hauteurs fixes ajustables */
  --card-h-desktop:220px;
  --card-h-tablet:200px;
  --card-h-mobile:190px;

  --info-h-desktop:80px;
  --info-h-tablet:76px;
  --info-h-mobile:72px;
}

/* Comment changer rapidement :
   - Dominante : --color-accent / --noel-green
   - Secondaire : --noel-gold
   - Bandeau info : --noel-red-strong (#C62828) */

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:var(--font-sans);color:var(--color-text);background:var(--color-bg);line-height:1.4}

/* Wrapper */
.page{
  min-height:100dvh;
  display:flex;
  flex-direction:column;
}

/* =================================================================== */
/* Background layers                                                   */
/* =================================================================== */
.bg-layer{position:fixed;inset:0;z-index:-1}
body.bg-image .bg-layer{background:center/cover no-repeat url("./assets/img/bg-noel-hero.jpg")}
body.bg-video .bg-layer{background:none}
.bg-video-elt{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .3s ease}
body.bg-video .bg-video-elt{opacity:1}

/* =================================================================== */
/* Header / AppBar                                                    */
/* =================================================================== */
.appbar{
  position:sticky;top:0;z-index:50;
  display:grid;grid-template-columns:1fr auto 1fr;align-items:center;
  padding:var(--space-3) var(--space-5);
  background:linear-gradient(180deg,rgba(255,255,255,.9),rgba(255,255,255,.75));
  backdrop-filter:blur(8px);
  box-shadow:0 2px 12px rgba(0,0,0,.06);
}
.brand{
  justify-self:center;font-weight:700;letter-spacing:.2em;color:var(--color-accent)
}
.actions{justify-self:end;display:flex;gap:var(--space-4)}

.icon-link{
  position:relative;
  display:inline-flex;align-items:center;
  padding:var(--space-1) var(--space-2);
  color:var(--color-text);text-decoration:none
}
.icon-link:hover{color:var(--color-accent)}

.badge{
  position:absolute;top:-6px;right:-8px;min-width:18px;height:18px;padding:0 5px;
  background:var(--badge-bg);color:var(--badge-text);
  border-radius:999px;font-size:11px;line-height:18px;text-align:center;
  box-shadow:0 0 0 2px #fff
}

/* Burger */
.burger{
  justify-self:start;display:inline-flex;align-items:center;gap:var(--space-2);
  background:transparent;border:0;cursor:pointer;padding:var(--space-1) var(--space-2);
  color:var(--color-text);font-weight:600
}
.burger:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}
.burger-box{width:22px;height:18px;position:relative}
.burger-lines,.burger-lines::before,.burger-lines::after{position:absolute;left:0;right:0;height:2px;background:currentColor;content:""}
.burger-lines{top:8px}
.burger-lines::before{top:-6px}
.burger-lines::after{top:6px}
.burger-label{font-size:12px;letter-spacing:.12em}

/* Menu déroulant */
.mainmenu{
  position:absolute;top:56px;left:var(--space-5);
  background:var(--color-surface);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:var(--space-3) var(--space-4)
}
.mainmenu[hidden]{display:none}
.mainmenu ul{list-style:none;margin:0;padding:0}
.mainmenu li+li{margin-top:var(--space-2)}
.mainmenu a{text-decoration:none;color:var(--color-text)}
.mainmenu a:hover{color:var(--color-accent)}

/* =================================================================== */
/* Icônes PNG + Tooltips                                               */
/* =================================================================== */
.icon-img{width:24px;height:24px;display:inline-block;vertical-align:middle}
.icon-link:hover .icon-img{filter:brightness(.9)}

/* Tooltips CSS purs */
.tooltip{position:relative}
.tooltip::after{
  content:attr(data-tooltip);
  position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);
  background:rgba(17,24,39,.95);color:#fff;padding:6px 8px;border-radius:8px;
  font-size:12px;line-height:1;white-space:nowrap;pointer-events:none;
  opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease;
  box-shadow:0 6px 18px rgba(0,0,0,.2)
}
.tooltip::before{
  content:"";position:absolute;bottom:100%;left:50%;transform:translateX(-50%);
  border:6px solid transparent;border-top-color:rgba(17,24,39,.95);
  opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease
}
.tooltip:hover::after,.tooltip:focus-visible::after,
.tooltip:hover::before,.tooltip:focus-visible::before{opacity:1;visibility:visible}

/* =================================================================== */
/* Main / Hero / Search                                                */
/* =================================================================== */
.main{
  flex:1 0 auto;
  display:grid;
  grid-template-rows:auto auto auto; /* hero / grid / info */
  padding-bottom:16px; /* un peu d’air en bas */
}

.hero{
  max-width:var(--container);
  margin:4vh auto 2vh; /* plus centré, moins d’espace perdu */
  padding:0 var(--space-5);
  text-align:center;
}
.hero-title{
  margin:0 0 var(--space-5);
  font-size:clamp(24px,4vw,44px);
  font-weight:800;
  letter-spacing:.02em
}

/* Searchbar */
.searchbar{
  position:relative;
  display:inline-flex;
  width:min(800px,92%);
  background:var(--color-surface);
  border-radius:999px;
  box-shadow:var(--shadow);
  padding:6px
}
.searchbar input{
  flex:1;border:0;background:transparent;padding:14px 16px;font-size:16px
}
.searchbar input:focus{outline:none}
.btn-search{
  display:inline-flex;align-items:center;justify-content:center;
  border:0;background:var(--color-accent);color:#fff;
  width:44px;height:44px;border-radius:999px;cursor:pointer
}
.btn-search:hover{filter:brightness(.95)}
.loupe{width:20px;height:20px;display:block}

/* =================================================================== */
/* Grid 3 cartes – HAUTEUR FIXE                                        */
/* =================================================================== */
.grid3{
  max-width:var(--container);
  margin:20px auto 20px;
  padding:0 var(--space-5);
  display:grid;gap:var(--space-5);
  grid-template-columns:repeat(3,1fr)
}

.card{
  height:var(--card-h-desktop);                  /* HAUTEUR FIXE desktop */
  display:grid;grid-template-rows:auto 1fr auto; /* icône / titre / texte */
  align-content:start;gap:var(--space-3);
  background:var(--color-surface);
  border-radius:var(--radius);
  padding:var(--space-5);
  box-shadow:var(--shadow);
  text-decoration:none;color:var(--color-text);
  transition:transform .15s ease,box-shadow .15s ease;
  overflow:hidden
}
.card:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(0,0,0,.12)}
.card-icon{width:44px;height:44px;display:grid;place-items:center;color:var(--color-accent)}
.card-icon-img{width:28px;height:28px;display:block}

/* Clamp titre/texte pour stabiliser l’intérieur */
.card-title{
  margin:0;font-size:18px;font-weight:700;
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
  overflow:hidden;text-overflow:ellipsis
}
.card-text{
  margin:0;color:var(--color-muted);
  display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;
  overflow:hidden;text-overflow:ellipsis
}

/* =================================================================== */
/* Bandeau info – HAUTEUR FIXE                                         */
/* =================================================================== */
.info-banner{
  max-width:var(--container);
  margin:16px auto 0;
  padding:0 var(--space-5);
  height:var(--info-h-desktop);                /* HAUTEUR FIXE */
  display:flex;align-items:center;             /* centrage vertical */
  background:var(--noel-red-strong);color:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden
}
.info-banner p{
  margin:0;width:100%;
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
  overflow:hidden;text-overflow:ellipsis
}

/* =================================================================== */
/* Chatbot (sticky)                                                    */
/* =================================================================== */
.chatbot-btn{
  position:fixed;right:18px;bottom:18px;
  width:56px;height:56px;border-radius:999px;
  display:grid;place-items:center;
  background:var(--color-accent);color:#fff;text-decoration:none;
  box-shadow:0 10px 24px rgba(0,0,0,.2);z-index:60
}
.chatbot-btn:focus-visible{outline:3px solid #fff;outline-offset:3px}
.chatbot-anchor{position:relative;top:-80px}

/* =================================================================== */
/* Responsive                                                          */
/* =================================================================== */
@media (max-width:767px){
  .grid3{grid-template-columns:1fr}
  .card{height:var(--card-h-mobile);}    /* HAUTEUR FIXE mobile */
  .info-banner{height:var(--info-h-mobile);}
  .hero{margin-top:5vh}
}
@media (min-width:768px) and (max-width:1023px){
  .grid3{grid-template-columns:repeat(2,1fr)}
  .card{height:var(--card-h-tablet);}    /* HAUTEUR FIXE tablette */
  .info-banner{height:var(--info-h-tablet);}
}
@media (min-width:1024px){
  .grid3{grid-template-columns:repeat(3,1fr)}
  .card{height:var(--card-h-desktop);}   /* HAUTEUR FIXE desktop */
  .info-banner{height:var(--info-h-desktop);}
}

/* =================================================================== */
/* Utilitaires                                                         */
/* =================================================================== */
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0
}
